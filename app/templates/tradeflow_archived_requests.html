{% extends "base.html" %}
{% block title %}Archived Requests ‚Äì Barter.com{% endblock %}
{% block nav_tradeflow_active %}class="active"{% endblock %}
{% set active_page = 'archived' %}

{% block content %}
<div class="tradeflow-container">
    {% include '_tradeflow_sidebar.html' %}

    <main class="main">
      <div class="page-header">
        <h1 class="page-title">Archived Requests</h1>
        <p class="page-desc">Requests that have expired or been archived</p>
      </div>
      {% if archived_requests %}
      <div class="cards-grid">
        {% for req in archived_requests %}
        <div class="card" data-href="{{ url_for('main.tradeflow_archived_request_detail', company_id=company.company_id, request_id=req.request_id) }}">
          <div class="card-company">{{ req.requesting_company.name if req.requesting_company else req.requested_service.company.name }}</div>
          <div class="card-title">{{ req.requested_service.title }}</div>
          <div class="card-desc">{{ req.requested_service.description[:70] }}{% if req.requested_service.description|length > 70 %}...{% endif %}</div>
          <div class="card-meta">
            <span>‚è± {{ req.requested_service.duration_hours }} hrs</span>
            <span class="card-badge">Expired</span>
          </div>
          <button class="card-button">Archived</button>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <div class="empty">
        <div class="empty-icon">üì¶</div>
        <div class="empty-text">No archived requests</div>
      </div>
      {% endif %}
    </main>
  </div>
{% endblock %}
