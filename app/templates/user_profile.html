{% extends "base.html" %}
{% block title %}{{ user.username }}'s Profile | Barter{% endblock %}

{% block content %}
<!-- HEADER -->
    <header class="header">
        <a href="{{ url_for('main.index') }}" style="text-decoration: none; color: inherit;">
            <div class="logo" style="color: #1a73e8; font-size: 20px; font-weight: 600;">Barter.com</div>
        </a>
        <nav class="nav">
            <a href="{{ url_for('main.index') }}">Dashboard</a>
            <a href="{{ url_for('main.index') }}">Browse</a>
        </nav>
    </header>

    <section class="content-container">
        <div class="form-card">
            <!-- PROFILE HEADER -->
            <div class="profile-header">
                <h1>{{ user.username }}</h1>
            </div>

            <!-- PROFILE INFO -->
            <div class="profile-info">
                {% if user.email %}
                    <div class="info-group">
                        <div class="info-label">Email</div>
                        <div class="info-value">{{ user.email }}</div>
                    </div>
                {% endif %}

                {% if user.location %}
                    <div class="info-group">
                        <div class="info-label">Location</div>
                        <div class="info-value">{{ user.location }}</div>
                    </div>
                {% else %}
                    <div class="info-group">
                        <div class="info-label">Location</div>
                        <div class="info-value empty-state">Not specified</div>
                    </div>
                {% endif %}

                {% if user.job_description %}
                    <div class="info-group">
                        <div class="info-label">Job Description / Role</div>
                        <div class="info-value">{{ user.job_description }}</div>
                    </div>
                {% else %}
                    <div class="info-group">
                        <div class="info-label">Job Description / Role</div>
                        <div class="info-value empty-state">Not specified</div>
                    </div>
                {% endif %}

                {% if user.created_at %}
                    <div class="info-group">
                        <div class="info-label">Member Since</div>
                        <div class="info-value">{{ user.created_at.strftime('%d %B %Y') if user.created_at else 'Unknown' }}</div>
                    </div>
                {% endif %}
            </div>

            <!-- BACK BUTTON -->
            <div class="form-links" style="margin-top: 24px;">
                <a href="javascript:history.back()">← Back</a>
            </div>
        </div>
    </section>

    <footer class="footer">
        © 2025 Barter.com. Building partnerships through service exchange.
    </footer>
    <script src="{{ url_for('static', filename='device-detection.js') }}"></script>
{% endblock %}
