{% extends "base.html" %}
{% from 'macros/_tradeflow_card.html' import request_card, empty_state %}
{% block title %}Incoming Requests â€“ Barter.com{% endblock %}
{% block nav_tradeflow_active %}class="active"{% endblock %}

{% set active_page = 'incoming' %}

{% block content %}
<div class="tradeflow-container">
  {% include '_tradeflow_sidebar.html' %}

  <main class="main">
    <div class="page-header">
      <h1 class="page-title">Incoming Requests</h1>
      <p class="page-desc">These are companies that have shown interest in one of your services. Review their capabilities and decide whether you want to explore a potential trade.</p>
    </div>
    {% if incoming_requests %}
    <div class="cards-grid">
      {% for req in incoming_requests %}
        {{ request_card(req, url_for('main.tradeflow_select_return', company_id=company.company_id, request_id=req.request_id), 'Select Return Service', show_requesting_company=true) }}
      {% endfor %}
    </div>
    {% else %}
      {{ empty_state('ðŸ“­', 'No incoming requests yet') }}
    {% endif %}
  </main>
</div>
{% endblock %}
